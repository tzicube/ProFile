<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Trần Bá Duy — Portfolio 個人作品集</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;600;800&display=swap" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/remixicon@4.3.0/fonts/remixicon.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/gh/devicons/devicon@v2.15.1/devicon.min.css" rel="stylesheet">
<style>
:root{
  --bg:#0b0f1a;--fg:#ecf4ff;--muted:#a7b4cc;--brand:#5ef0ff;--brand2:#7c56ff;--glass:rgba(255,255,255,.08);
  --card:linear-gradient(180deg,rgba(255,255,255,.10),rgba(255,255,255,.04));
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;background:radial-gradient(1200px 800px at 80% -10%,rgba(124,86,255,.25),transparent 60%),
  radial-gradient(1000px 700px at -10% 20%,rgba(94,240,255,.20),transparent 60%),var(--bg);
  color:var(--fg);font-family:Manrope,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial,sans-serif;overflow-x:hidden
}
a{color:var(--brand);text-decoration:none}
.container{width:min(1200px,92vw);margin-inline:auto}
.section{padding:84px 0;position:relative}
.section h2{
  font-size:clamp(28px,3vw,42px);margin:0 0 18px;font-weight:900;letter-spacing:.4px;
  background:linear-gradient(90deg,#d6e8ff,#9bd0ff,#e3d6ff);-webkit-background-clip:text;background-clip:text;color:transparent
}
.sub{color:var(--muted);margin:0 0 28px;font-weight:600}

/* ===== Nav ===== */
.nav{position:fixed;inset:14px 14px auto 14px;display:flex;align-items:center;justify-content:space-between;
  padding:10px 14px;border-radius:16px;background:rgba(11,15,26,.35);backdrop-filter:blur(12px);z-index:20;border:1px solid rgba(255,255,255,.08)}
.brand{display:flex;gap:10px;align-items:center;font-weight:900;letter-spacing:.6px}
.brand i{color:#7c56ff}
.nav .links a{color:var(--fg);font-weight:700;padding:8px 12px;border-radius:10px}
.nav .links a:hover{background:rgba(255,255,255,.06)}

/* ===== Hero ===== */
.hero{min-height:100svh;display:grid;place-items:center;position:relative;overflow:hidden}
.blob,.blob2{position:absolute;filter:blur(60px);opacity:.55;z-index:-1;mix-blend:screen}
.blob{width:520px;height:520px;background:radial-gradient(circle at 30% 30%,#7c56ff,transparent 60%);top:-120px;left:-90px;animation:float 10s ease-in-out infinite}
.blob2{width:620px;height:620px;background:radial-gradient(circle at 70% 60%,#5ef0ff,transparent 60%);bottom:-140px;right:-100px;animation:float2 12s ease-in-out infinite}
@keyframes float{50%{transform:translate(50px,35px) scale(1.07)}}
@keyframes float2{50%{transform:translate(-55px,-40px) scale(1.09)}}

.hero-card{
  width:min(1120px,92vw);display:grid;grid-template-columns:1.05fr .9fr;gap:30px;align-items:center;
  padding:30px;border-radius:28px;background:linear-gradient(180deg,rgba(255,255,255,.12),rgba(255,255,255,.06));backdrop-filter:blur(14px);
  border:1px solid rgba(255,255,255,.14);box-shadow:0 20px 60px rgba(0,0,0,.35);position:relative;overflow:hidden
}
/* Vietnam flag watermark */
.hero-card::before{
  content:"";position:absolute;inset:0;opacity:.16;z-index:-1;
  background:url('data:image/svg+xml;utf8,\
      <svg xmlns="http://www.w3.org/2000/svg" width="1200" height="800" viewBox="0 0 12 8">\
        <rect width="12" height="8" fill="%23da1f26"/>\
        <polygon points="6,1.6 6.65,3.45 8.6,3.45 7.02,4.58 7.6,6.4 6,5.28 4.4,6.4 4.98,4.58 3.4,3.45 5.35,3.45" fill="%23ffda44"/>\
      </svg>') center/60% no-repeat;filter:blur(2px)
}
@media(max-width:920px){.hero-card{grid-template-columns:1fr}.hero .meta{order:2}.hero .photo{order:1}}

.kicker{color:var(--muted);font-weight:800;margin-bottom:12px;letter-spacing:.2px}
.headline{margin:0 0 10px}
.headline .line{display:block;font-size:clamp(30px,4vw,54px);line-height:1.12;font-weight:900;background:linear-gradient(90deg,#ffffff,#cfe2ff);-webkit-background-clip:text;background-clip:text;color:transparent}
.tag-zh{display:inline-block;margin-top:6px;font-size:12px;font-weight:800;letter-spacing:.5px;padding:4px 8px;border-radius:999px;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.18);color:#d5e5ff}

.badges{display:flex;flex-wrap:wrap;gap:10px;margin:18px 0}
.badge{border:1px solid rgba(255,255,255,.16);padding:8px 12px;border-radius:999px;font-weight:800;background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.03))}
.cta{display:flex;gap:14px;margin-top:8px}
.btn{display:inline-flex;align-items:center;gap:8px;padding:12px 16px;border-radius:14px;font-weight:900;border:1px solid rgba(255,255,255,.18);background:linear-gradient(180deg,#7c56ff,#5b38ff);box-shadow:0 8px 24px rgba(124,86,255,.45)}
.btn i{font-size:20px}
.btn.ghost{background:rgba(255,255,255,.06);box-shadow:none}
.photo{position:relative;border-radius:22px;overflow:hidden;border:1px solid rgba(255,255,255,.16)}
.photo img{width:100%;height:100%;object-fit:cover;display:block}
.photo::after{content:"";position:absolute;inset:auto 12px 12px auto;width:140px;height:140px;border-radius:18px;background:conic-gradient(from 10deg,#5ef0ff,#7c56ff,#5ef0ff);filter:blur(40px);opacity:.25;animation:spin 9s linear infinite}
@keyframes spin{to{transform:rotate(1turn)}}

/* ===== Stats / Deck / Orbs / Skills ===== */
.stats{display:grid;grid-template-columns:repeat(4,1fr);gap:16px;margin-top:18px}
@media(max-width:880px){.stats{grid-template-columns:1fr 1fr}}
.stat{padding:16px;border-radius:16px;background:var(--card);border:1px solid rgba(255,255,255,.10)}
.stat .num{font-size:32px;font-weight:900}
.stat .label{color:var(--muted);font-weight:700}

.float-wrap{position:relative;min-height:560px;display:grid;place-items:center;margin-top:10px}
.deck{width:min(780px,92vw);padding:22px;border-radius:20px;background:var(--glass);border:1px solid rgba(255,255,255,.14);backdrop-filter:blur(10px);box-shadow:0 20px 60px rgba(0,0,0,.35)}
.deck h3{margin:0 0 8px;font-weight:900}
.deck p{margin:6px 0 0;color:var(--muted);font-weight:600}
.orb{position:absolute;display:grid;place-items:center;border-radius:20px;overflow:hidden;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);box-shadow:0 10px 30px rgba(0,0,0,.35)}
.orb img{width:100%;height:100%;object-fit:cover;display:block}
@keyframes driftA{0%{transform:translate(0,0)}50%{transform:translate(34px,-36px)}100%{transform:translate(0,0)}}
@keyframes driftB{0%{transform:translate(0,0)}50%{transform:translate(-36px,28px)}100%{transform:translate(0,0)}}
.fastA{animation:driftA 8s ease-in-out infinite}
.fastB{animation:driftB 9.5s ease-in-out infinite}
.fastC{animation:driftB 11s ease-in-out infinite}
.fastD{animation:driftA 12.5s ease-in-out infinite}
.fastE{animation:driftA 13.5s ease-in-out infinite}

.skills-ring{display:grid;grid-template-columns:repeat(8,1fr);gap:10px;margin-top:14px}
@media(max-width:900px){.skills-ring{grid-template-columns:repeat(4,1fr)}}
@media(max-width:520px){.skills-ring{grid-template-columns:repeat(2,1fr)}}
.sico{display:flex;flex-direction:column;align-items:center;gap:6px;padding:12px;border-radius:14px;text-align:center;background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.03));border:1px solid rgba(255,255,255,.12);animation:pulse 5s ease-in-out infinite}
@keyframes pulse{50%{transform:translateY(-5px)}}
.sico i{font-size:38px}
.sico b{font-size:13px}
.sico small{color:var(--muted);font-weight:700}

/* ===== Projects ===== */
.proj-grid{display:grid;grid-template-columns:repeat(12,1fr);gap:16px}
.card3d{
  grid-column:span 4;position:relative;padding:18px;border-radius:18px;background:var(--glass);border:1px solid rgba(255,255,255,.14);
  transform-style:preserve-3d;transition:transform .15s ease, box-shadow .25s ease;box-shadow:0 12px 36px rgba(0,0,0,.35)
}
.card3d:hover{box-shadow:0 24px 60px rgba(0,0,0,.45)}
.p-head{display:flex;align-items:center;gap:10px;font-weight:900}
.p-body{color:#cfe0ff;font-weight:700;margin:8px 0 12px}
.p-tags{display:flex;flex-wrap:wrap;gap:8px}
.p-tags .t{padding:6px 10px;border-radius:999px;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.14);font-weight:800}
@media(max-width:900px){.card3d{grid-column:span 12}}

/* ===== WOW Awards ===== */
.ribbon{position:relative;display:inline-block;padding:8px 12px;border-radius:999px;background:linear-gradient(90deg,#ffd36e,#ff7bd1,#7cd7ff);font-weight:900;color:#0b0f1a}
.honor-wrap{position:relative}
.honor{
  margin-top:14px;padding:18px;border-radius:22px;background:radial-gradient(120% 140% at 10% -10%,rgba(124,86,255,.30),transparent 60%),var(--glass);
  border:1px solid rgba(255,255,255,.18);backdrop-filter:blur(12px);box-shadow:0 20px 60px rgba(0,0,0,.38)
}
.honor .bullets{margin:0;padding-left:18px;line-height:1.7;font-weight:800;color:#cfe0ff}
.honor-grid{display:grid;grid-template-columns:repeat(12,1fr);gap:14px;margin-top:18px}
.hc{grid-column:span 4;position:relative;border-radius:18px;overflow:hidden;border:1px solid rgba(255,255,255,.14);background:#0f1422;transform-style:preserve-3d;transition:transform .5s ease, box-shadow .5s ease}
.hc:hover{transform:translateY(-6px) rotateX(6deg) rotateY(-6deg);box-shadow:0 20px 50px rgba(0,0,0,.45)}
.hc img{width:100%;height:220px;object-fit:cover;display:block;filter:contrast(1.05)}
.hc small{position:absolute;left:10px;bottom:10px;background:rgba(11,15,26,.55);padding:6px 10px;border-radius:999px;border:1px solid rgba(255,255,255,.14);font-weight:900}
@media(max-width:900px){.hc{grid-column:span 12}.hc img{height:240px}}

/* ===== Gallery + motion ===== */
.gallery{display:grid;grid-template-columns:repeat(12,1fr);gap:12px;margin-top:8px}
.g{position:relative;border-radius:16px;overflow:hidden;border:1px solid rgba(255,255,255,.10);background:#0f1422}
.g img{width:100%;height:100%;object-fit:cover;display:block;transition:transform .6s ease}
.g:hover img{transform:scale(1.05)}
.col-6{grid-column:span 6}.col-8{grid-column:span 8}.col-4{grid-column:span 4}.col-12{grid-column:span 12}
@media(max-width:900px){.col-8,.col-6,.col-4{grid-column:span 12}}
/* motion */
.gwrap{position:relative}
.gmarquee{
  margin:6px 0 14px;display:flex;gap:40px;overflow:hidden;
  mask-image:linear-gradient(90deg,transparent,#000 8%,#000 92%,transparent);
  border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:8px;background:rgba(255,255,255,.04)
}
.gmarquee .inner{display:flex;gap:40px;animation:rollGallery 20s linear infinite;white-space:nowrap;font-weight:900;letter-spacing:.3px}
@keyframes rollGallery{to{transform:translateX(-50%)}}
.gup{opacity:0;transform:translateY(28px) scale(.985);transition:transform .9s cubic-bezier(.22,.8,.22,1),opacity .9s}
.gup.show{opacity:1;transform:none}
.g .tag{
  position:absolute;top:12px;left:12px;padding:6px 10px;border-radius:999px;
  background:rgba(11,15,26,.58);border:1px solid rgba(255,255,255,.14);font-weight:900;
  transform:translateX(-18px);opacity:0;transition:transform .7s .1s, opacity .7s .1s
}
.gup.show .tag{transform:none;opacity:1}

/* Contact / Reveal / Particles / Accessibility */
.contact{display:grid;grid-template-columns:1.1fr .9fr;gap:22px;align-items:center}
.contact .box{padding:22px;border-radius:18px;background:var(--glass);border:1px solid rgba(255,255,255,.12)}
.contact .list{display:grid;gap:10px}
.row{display:flex;align-items:center;gap:12px}
.row i{font-size:22px;background:linear-gradient(90deg,#5ef0ff,#7c56ff);-webkit-background-clip:text;background-clip:text;color:transparent}

.reveal{opacity:0;transform:translateY(18px);transition:opacity .7s ease,transform .7s ease}
.reveal.show{opacity:1;transform:none}
canvas#p{position:fixed;inset:0;z-index:-2;opacity:.4}
footer{padding:26px 0;color:#9bb0cf;text-align:center}

@media(prefers-reduced-motion:reduce){
  .blob,.blob2,.photo::after,.sico,.fastA,.fastB,.fastC,.fastD,.fastE{animation:none!important}
}
</style>
</head>
<body>

<canvas id="p"></canvas>

<nav class="nav">
  <div class="brand"><i class="ri-sparkling-2-fill"></i> DUY</div>
  <div class="links">
    <a href="#about">About / 關於</a>
    <a href="#skills">Skills / 技能</a>
    <a href="#projects">Projects / 專案</a>
    <a href="#awards">Awards / 成就</a>
    <a href="#gallery">Gallery / 檔案</a>
    <a href="#contact">Contact / 聯絡</a>
  </div>
</nav>

<section class="hero">
  <div class="blob"></div><div class="blob2"></div>
  <div class="hero-card">
    <div class="meta">
      <div class="kicker">Portfolio · 個人作品集</div>

      <h1 class="headline">
        <span class="line">Trần Bá Duy</span>
        <span class="line">Computer Science · Ming Chuan University</span>
        <span class="tag-zh">20 years old · Vietnamese in Taiwan · 越南留學生（在臺灣）</span>
      </h1>

      <p class="sub">
        First-year averages: <b>89.62</b> (Fall) & <b>93.63</b> (Spring) — both #1 in class.
        Department ranks: <b>8/187</b> → <b>3/203</b>（含本地與國際）.
        Passed <b>CPE – Coding Frenzy</b> (May 2025). TOCFL A2 (Listening 490 / Reading 435).
      </p>

      <div class="badges">
        <span class="badge">GPA 89.62 → 93.63</span>
        <span class="badge">Dept 8/187 → 3/203</span>
        <span class="badge">CPE – Coding Frenzy</span>
        <span class="badge">TOCFL A2</span>
        <span class="badge">TA · 助教 1 year</span>
      </div>

      <div class="cta">
        <a class="btn" href="#contact"><i class="ri-send-plane-2-fill"></i>Contact / 聯絡</a>
        <a class="btn ghost" href="#awards"><i class="ri-medal-2-fill"></i>Awards / 成就</a>
      </div>

      <div class="stats">
        <div class="stat"><div class="num" data-count="89.62">0</div><div class="label">Fall Avg</div></div>
        <div class="stat"><div class="num" data-count="93.63">0</div><div class="label">Spring Avg</div></div>
        <div class="stat"><div class="num" data-count="1">0</div><div class="label">Class Rank</div></div>
        <div class="stat"><div class="num" data-count="2">0</div><div class="label">Dept Top</div></div>
      </div>
    </div>

    <div class="photo">
      <img src="photo.jpg" alt="Portrait">
    </div>
  </div>
</section>

<section id="about" class="section container reveal">
  <h2>About / 關於</h2>
  <p class="sub">Vietnamese student in Taiwan, building useful software & systems · 越南留台生，專注實用軟體與系統。</p>

  <div class="float-wrap">
    <!-- floating certificates -->
    <a class="orb fastA" href="zh.jpg" target="_blank" style="width:150px;height:110px;left:2%;top:18%;"><img src="zh.jpg" alt=""></a>
    <a class="orb fastB" href="1.jpg" target="_blank" style="width:170px;height:130px;left:10%;bottom:8%;"><img src="1.jpg" alt=""></a>
    <a class="orb fastC" href="2.jpg" target="_blank" style="width:160px;height:120px;right:7%;top:12%;"><img src="2.jpg" alt=""></a>
    <a class="orb fastD" href="top.jpg" target="_blank" style="width:140px;height:110px;right:3%;bottom:20%;"><img src="top.jpg" alt=""></a>
    <a class="orb fastE" href="score.jpg" target="_blank" style="width:150px;height:120px;left:38%;top:-40px;"><img src="score.jpg" alt=""></a>

    <div class="deck">
      <h3>Bio / 簡介</h3>
      <p>
        CS student at Ming Chuan University. Strong foundations in algorithms, data structures, and embedded IoT.
        Champion of Hanoi City Math contest (20/20). Passed CPE within one semester after learning of it.
      </p>

      <!-- SKILLS emphasize TA -->
      <div id="skills" class="skills-ring" style="margin-top:16px">
        <div class="sico" title="Teaching Assistant · 助教 1 年"><i class="ri-user-star-fill"></i><b>TA · 助教</b><small>1 year / 1 年</small></div>
        <div class="sico" title="C · Systems"><i class="devicon-c-plain"></i><b>C</b><small>Systems</small></div>
        <div class="sico" title="C++ · STL / OOP"><i class="devicon-cplusplus-plain"></i><b>C++</b><small>STL / OOP</small></div>
        <div class="sico" title="Python · Automation"><i class="devicon-python-plain"></i><b>Python</b><small>Automation</small></div>
        <div class="sico" title="HTML · Markup"><i class="devicon-html5-plain"></i><b>HTML</b><small>Markup</small></div>
        <div class="sico" title="JavaScript · Frontend"><i class="devicon-javascript-plain"></i><b>JavaScript</b><small>Frontend</small></div>
        <div class="sico" title="Unity · Game Dev"><i class="devicon-unity-original"></i><b>Unity</b><small>Game Dev</small></div>
        <div class="sico" title="ESP32 · IoT"><i class="ri-cpu-line"></i><b>ESP32</b><small>IoT</small></div>
      </div>
    </div>
  </div>
</section>

<!-- ===== PROJECTS ===== -->
<section id="projects" class="section container reveal">
  <h2>Projects / 專案</h2>
  <p class="sub">Selected work that reflects real impact · 精選可落地、可運行的作品。</p>

  <div class="proj-grid">
    <!-- Project 1: ESP32 -->
    <div class="card3d" data-tilt>
      <div class="p-head"><i class="ri-cpu-fill"></i> <span>ESP32 IoT Logger · 物聯網資料記錄</span></div>
      <p class="p-body">ESP32/ESP8266 reads sensors and logs to Google Sheets via Wi-Fi; live dashboard & alert.</p>
      <div class="p-tags">
        <span class="t">C / Arduino</span><span class="t">Wi-Fi</span><span class="t">CSV/Sheets</span><span class="t">Real-time</span>
      </div>
    </div>

    <!-- Project 2: Dialogflow -->
    <div class="card3d" data-tilt>
      <div class="p-head"><i class="ri-chat-3-fill"></i> <span>Dialogflow Chatbot · 對話機器人</span></div>
      <p class="p-body">FAQ bot in EN/ZH for student services; intent detection, small-talk, and handoff e-mail.</p>
      <div class="p-tags">
        <span class="t">Dialogflow</span><span class="t">Webhook</span><span class="t">Bilingual</span><span class="t">Node.js</span>
      </div>
    </div>

    <!-- Project 3: Unity -->
    <div class="card3d" data-tilt>
      <div class="p-head"><i class="ri-gamepad-fill"></i> <span>Unity Mini-Game · 小型遊戲</span></div>
      <p class="p-body">Casual mobile prototype with physics & scoring; polished UI, particle VFX and SFX.</p>
      <div class="p-tags">
        <span class="t">Unity</span><span class="t">C#</span><span class="t">Mobile</span><span class="t">VFX</span>
      </div>
    </div>
  </div>
</section>

<!-- ===== AWARDS ===== -->
<section id="awards" class="section container reveal">
  <div class="ribbon">Awards · 成就展示</div>
  <h2 style="margin-top:12px">Highlights / 亮點</h2>
  <p class="sub">#1 in class both semesters · 系排前段 · 證照完整</p>

  <div class="honor-wrap">
    <div class="honor">
      <ul class="bullets">
        <li>#1 in class for both semesters (Fall & Spring) · 兩學期皆班排第一。</li>
        <li>Department ranks: 8/187 → 3/203（含本地+國際）。</li>
        <li>Passed CPE – Coding Frenzy（2025/05）。</li>
        <li>TOCFL A2（Listening 490 / Reading 435）。</li>
        <li>Teaching Assistant（C/C++）— 1 year · 助教 1 年。</li>
      </ul>

      <div class="honor-grid">
        <a class="hc" href="le.JPG" target="_blank" title="Hanoi Ceremony">
          <img src="le.JPG" alt="Hanoi Ceremony"><small>頒獎現場 · Ceremony</small>
        </a>
        <a class="hc" href="m.jpg" target="_blank" title="City Champion">
          <img src="m.jpg" alt="City Champion"><small>市級第一名 · Champion</small>
        </a>
        <a class="hc" href="m (1).jpg" target="_blank" title="Certificate">
          <img src="m (1).jpg" alt="Certificate"><small>20/20 · Certificate</small>
        </a>
      </div>
    </div>
  </div>
</section>

<!-- ===== GALLERY with animations ===== -->
<section id="gallery" class="section container reveal">
  <h2>Gallery / 檔案</h2>
  <p class="sub">Scans & documents · 掃描原件（點擊放大）。</p>

  <div class="gwrap">
    <div class="gmarquee">
      <div class="inner">
        <span>TOCFL A2 · Chinese Proficiency</span>
        <span>Department Ranking · 系排證明</span>
        <span>Ming Chuan Award · 上學期</span>
        <span>Ming Chuan Award · 下學期</span>
        <span>Semester Score Sheet · 成績單摘要</span>
        <span>TOCFL A2 · Chinese Proficiency</span>
        <span>Department Ranking · 系排證明</span>
        <span>Ming Chuan Award · 上學期</span>
        <span>Ming Chuan Award · 下學期</span>
        <span>Semester Score Sheet · 成績單摘要</span>
      </div>
    </div>
  </div>

  <div class="gallery">
    <a class="g gup col-6" href="zh.jpg" target="_blank">
      <img src="zh.jpg" alt="TOCFL A2 certificate"><span class="tag">TOCFL A2 · 華語證書</span>
    </a>

    <a class="g gup col-6" href="top.jpg" target="_blank">
      <img src="top.jpg" alt="Department ranking sheet"><span class="tag">Dept Ranking · 系排</span>
    </a>

    <a class="g gup col-8" href="1.jpg" target="_blank">
      <img src="1.jpg" alt="MCU Award (Fall)"><span class="tag">MCU Award · 上學期</span>
    </a>

    <a class="g gup col-4" href="2.jpg" target="_blank">
      <img src="2.jpg" alt="MCU Award (Spring)"><span class="tag">MCU Award · 下學期</span>
    </a>

    <a class="g gup col-12" href="score.jpg" target="_blank">
      <img src="score.jpg" alt="Semester score table"><span class="tag">Scores · 成績摘要</span>
    </a>
  </div>
</section>

<section id="contact" class="section container reveal">
  <h2>Contact / 聯絡</h2>
  <p class="sub">Let’s build something meaningful together · 一起做出有價值的作品。</p>

  <div class="contact">
    <div class="box">
      <div class="list">
        <div class="row"><i class="ri-user-voice-fill"></i><b>Trần Bá Duy · 陳巴維</b></div>
        <div class="row"><i class="ri-community-fill"></i>Vietnamese International Student · 越南留學生</div>
        <div class="row"><i class="ri-map-pin-2-fill"></i>Based in Taiwan · 目前在臺灣</div>
        <div class="row"><i class="ri-phone-fill"></i>0983-596-065</div>
        <div class="row"><i class="ri-mail-fill"></i>duyt97975@gmail.com</div>
      </div>
    </div>

    <!-- FORM gửi vào Google Sheets -->
    <div class="box">
      <form id="sheetForm">
        <label style="font-weight:900;display:block;margin-bottom:8px">Quick Message · 快速留言</label>

        <input name="name" required placeholder="Your name / 您的稱呼"
               style="width:100%;padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,.16);background:rgba(255,255,255,.04);color:var(--fg);margin-bottom:10px">

        <input name="email" type="email" required placeholder="Email"
               style="width:100%;padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,.16);background:rgba(255,255,255,.04);color:var(--fg);margin-bottom:10px">

        <textarea name="message" rows="4" required placeholder="Message / 訊息"
                  style="width:100%;padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,.16);background:rgba(255,255,255,.04);color:var(--fg);margin-bottom:12px"></textarea>

        <!-- Honeypot chống spam (đừng xoá) -->
        <input name="_gotcha" type="text" style="display:none">

        <button id="sendBtn" class="btn" style="border:none;cursor:pointer">
          <i class="ri-rocket-2-fill"></i><span class="btnText">Send / 送出</span>
        </button>
      </form>
      <small id="formStatus" style="display:block;margin-top:10px;color:#cfe0ff;font-weight:700"></small>
    </div>
  </div>
</section>

<footer class="container">
  © <span id="y"></span> Trần Bá Duy — Portfolio 個人作品集
</footer>

<script>
/* === CONFIG: Apps Script Web App URL === */
const GOOGLE_APPS_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwi9FXFuHO2Gb2xjqhHW4HjjSI0fjn-ZqbFYhL75tvOrQOADJCTwR6fPlB3W6Eec7GaxQ/exec";

/* counters */
function animateCount(el){
  const end = +el.dataset.count, dur = 1000, start = performance.now();
  function tick(t){
    const p = Math.min((t-start)/dur,1), n = end*p;
    el.textContent = (end%1? n.toFixed(2):Math.round(n));
    if(p<1) requestAnimationFrame(tick);
  } requestAnimationFrame(tick);
}
document.querySelectorAll('.stat .num').forEach(animateCount);

/* section reveal */
const io = new IntersectionObserver((es)=>es.forEach(e=>{
  if(e.isIntersecting){e.target.classList.add('show');io.unobserve(e.target)}
}),{threshold:.15});
document.querySelectorAll('.reveal').forEach(el=>io.observe(el));

/* gallery slide-up + left tag (stagger) */
const gObserver = new IntersectionObserver((entries)=>{
  entries.forEach((e)=>{
    if(e.isIntersecting){
      const delay = (Number(e.target.dataset.delay)||0)*80;
      setTimeout(()=>e.target.classList.add('show'), delay);
      gObserver.unobserve(e.target);
    }
  });
},{threshold:.18});
document.querySelectorAll('.gallery .gup').forEach((el,idx)=>{
  el.dataset.delay = idx; gObserver.observe(el);
});

/* projects tilt */
document.querySelectorAll('[data-tilt]').forEach(card=>{
  card.addEventListener('mousemove',e=>{
    const r=card.getBoundingClientRect(), x=e.clientX-r.left, y=e.clientY-r.top;
    const rx=((y/r.height)-.5)*10, ry=((x/r.width)-.5)*-10;
    card.style.transform=`rotateX(${rx}deg) rotateY(${ry}deg)`;
  });
  card.addEventListener('mouseleave',()=>card.style.transform='rotateX(0) rotateY(0)');
});

/* send to Google Sheet */
const form = document.getElementById('sheetForm');
const sendBtn = document.getElementById('sendBtn');
const btnText = document.querySelector('#sendBtn .btnText');
const statusEl = document.getElementById('formStatus');

form.addEventListener('submit', async (e)=>{
  e.preventDefault();

  // honeypot
  if(form._gotcha && form._gotcha.value){
    statusEl.textContent = "Spam detected.";
    return;
  }

  // UI lock
  sendBtn.disabled = true;
  btnText.textContent = "Sending…";
  statusEl.textContent = "";

  // Collect data
  const payload = {
    name: (form.name.value||"").trim(),
    email: (form.email.value||"").trim(),
    message: (form.message.value||"").trim(),
    ua: navigator.userAgent,
    ts: new Date().toISOString()
  };

  // Use x-www-form-urlencoded to avoid CORS preflight
  const body = new URLSearchParams(payload).toString();

  try{
    const res = await fetch(GOOGLE_APPS_SCRIPT_URL, {
      method: "POST",
      headers: {"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},
      body
    });

    // If server sets CORS headers, we can read JSON; otherwise still show success optimistically
    let ok = res.ok;
    let msg = "Message sent · 已送出，感謝！";

    try{
      const text = await res.text(); // try read text
      if(text){
        // attempt to parse JSON
        try{
          const data = JSON.parse(text);
          if(data && data.status==="ok") ok = true;
        }catch(_){}
      }
    }catch(_){}

    if(ok){
      form.reset();
      statusEl.textContent = msg;
    }else{
      statusEl.textContent = "Delivery uncertain — server responded unexpectedly. It may still be saved.";
    }
  }catch(err){
    statusEl.textContent = "Network error. Please try again.";
  }finally{
    sendBtn.disabled = false;
    btnText.textContent = "Send / 送出";
  }
});

/* year */
document.getElementById('y').textContent = new Date().getFullYear();

/* particles bg */
const c = document.getElementById('p'), ctx = c.getContext('2d');
let w,h,px,parts=[];
function resize(){w=c.width=innerWidth;h=c.height=innerHeight;px=Math.min(w,h)/800}
addEventListener('resize',resize,{passive:true});resize();
for(let i=0;i<120;i++){
  parts.push({x:Math.random()*w,y:Math.random()*h,vx:(Math.random()-0.5)*0.55,vy:(Math.random()-0.5)*0.55,r:Math.random()*2.2+0.6});
}
function draw(){
  ctx.clearRect(0,0,w,h);
  for(const p of parts){
    p.x+=p.vx;p.y+=p.vy;
    if(p.x<0||p.x>w) p.vx*=-1;
    if(p.y<0||p.y>h) p.vy*=-1;
    ctx.beginPath();ctx.arc(p.x,p.y,p.r*px,0,Math.PI*2);
    const g=ctx.createRadialGradient(p.x,p.y,0,p.x,p.y,p.r*5*px);
    g.addColorStop(0,"rgba(126,214,255,.9)");
    g.addColorStop(1,"rgba(124,86,255,0)");
    ctx.fillStyle=g;ctx.fill();
  }
  for(let i=0;i<parts.length;i++){
    for(let j=i+1;j<parts.length;j++){
      const a=parts[i],b=parts[j],dx=a.x-b.x,dy=a.y-b.y,dist=Math.hypot(dx,dy);
      if(dist<120){
        ctx.strokeStyle="rgba(180,210,255,"+(1-dist/120)*.18+")";
        ctx.lineWidth=.7;ctx.beginPath();ctx.moveTo(a.x,a.y);ctx.lineTo(b.x,b.y);ctx.stroke();
      }
    }
  }
  requestAnimationFrame(draw);
}
draw();
</script>
</body>
</html>
